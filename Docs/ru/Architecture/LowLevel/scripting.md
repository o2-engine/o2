## Скриптинг
В о2 встроен скриптовый движок, с имплементацией JS на jerryscript.

Скриптовым движком управляет подсистема `o2::ScriptEngine`. Она хранит глобальное состояние его можно получить через `GetGlobal`. Может парсить и запускать скрипты (`Parse`/`Run`/`Eval`)

Так же он управляет подключением дебаггера.

### Обертка скрипт-значения, o2::ScriptValue
Этот класс является универсальной оберткой любого скриптового значения. В нем может храниться как простой тип (number, string, bool ...), так и массивы, объекты и функции.

Для определения типа объекта используются функции-геттеры `IsArray`/`IsObject`, или `GetValueType`.

Так же класс имеет операторы конвертации в/из нужного типа

#### Объекты
Для обхектных типов есть функционал по получению property объекта: `GetProperty`, а так же перебор всех пропертей `ForEachProperties`. Так же можно добавлять и удалять проперти в объекте.

Есть функционал для прототипов объектов, можно получить или установить прототип: `Set/getPrototype`

Так же есть функция `Contruct` для конструирования обхекта из функции-конструктора

#### Массивы
Для работы с массивами есть функции получения элемента: `operator[int]` и `Set/GetElement`. А так же получение длины массива `GetLength()`. И добавление/удаление элемента в массиве: `Add/RemoveElement`.

#### Функции
В переменной так же может быть функция, которую можно вызвать. Вызвать можно с передачей С++ параметров через шаблоны, тогда внутри они сконвертируются в скриптовые значения: `Invoke`. Либо сразу с уже заготовленными скриптовыми занчениями: `InvokeRaw`.

Так же при вызове функции можно задать параметр this первым аргументом

#### Биндинг классов и функций в скриптинг
Каждый объект, при включенном скриптинге может хранить в себе закешированное скриптовое значение на этот объект. Это скриптовое значение представляет из себя объект с нативным поинтером на себа внутри. Так же в нем есть поля, которые биндятся к скриптингу

Для каждого типа в рефлексии генерируется прототип, на который потом ссылкаются инстансы этого типа. То есть функции фактически хранятся в прототипе. Базовые классы становятся прототипами наследников.
